
> Аналогично работает как и в docker-compose healtcheck

Но в отличие от healthcheck имеет свои новороты со стороны кубера. Тобишь тут завязка идет под "бесшовность" и непрервыность работы нашей системы. Соответственно при проведении обновлений данный инструмент также будет помогать контролировать нашу работоспособность и не допустит ситуации, когда обновленный под будет недоступен, но трафик будет туда слаться.

>[!warning]
>Важно понимать, что мы должны настроить разные слои поведения, ибо допустим пример, представленный ниже проверяет лишь то, что наш сервис в целом доступен. А работает ли он как нам необходимо и возвращает ли что то - вопрос другой. Тоже самое относится и к нашей внутрянке - важно проверять что наши компоненты тоже не отрыгнули при обнове или еще чем то

### Пример реализации

P.S - нас интересует код в блоке **readinessProbe** 

```kubernetes
apiVersion: apps/v1  
kind: Deployment  
metadata:  
  name: k8-test  
spec:  
  replicas: 3  
  selector:  
    matchLabels:  
      pod: k8-test-pod  
  template:  
    metadata:  
      labels:  
        pod: k8-test-pod  
    spec:  
      containers:  
        - name: k8-test-container  
          image: docker.io/macalistervadim/k8-test:latest  
          readinessProbe:  
            initialDelaySeconds: 15  
            periodSeconds: 30  
            httpGet:  
              path: /health  
              port: 8000  
              scheme: HTTP  
            timeoutSeconds: 2  
            failureThreshold: 1  
            successThreshold: 1
```

[[k8]] [[IT]]