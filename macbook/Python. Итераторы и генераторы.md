> В чем их различие?

## Итератор

Итератор п питоне - это объект, в котором реализованы `dunder-методы` `__next__` и `__iter__`. Короткое сводка их значений:
- `__next__` - возвращает следующий элемент если он имеется, если нет - выкидывает exception StopIteration и итерация прекращается
- `__iter__` - собстна говоря возвращает сам итератор (тобишь самого себя)

## Генератор

Генератор - более продвинутое решение итераторов. Их различия скорее не в способе использования, а в способе реализации (ведь по сути у обоих задача - итерироваться). Так воть... Генератор - функция, имеющая ключевое слово `yield`, которая возвращает некий "объект-генератор" в сыром виде, который мы должны вследствии обработать в том же цикле `for`. Сам же `yield` по факту содержит в себе дандер-методы итератора, тем самым передавая объект-генератор нашему циклу для дальнейшей обработки

>[!info] Интересный факт
>`yield` работает "ленивым" образом, это означает, что он отдает по одному элементу за раз, не создавая в памяти целиковый объект - что в целом есть хорошо при итерировании тетрабайтов списков :) Но злоупотреблять ими тоже не стоит, т.к их "ленивость" сказывается на быстродействии системы (а мы ведь все прекрасно знаем, что стоимость дисков гораздо дешевле стоимости одного клиента, ждущего своего ответа от сервера)

Еще интересный факт - у `yield` есть еще один собрат `yield from` - который делегирует итерацию другой функции-генератору. Тоесть мы в одной функции можем проитерироваться по входным данным и далее отдать какие-то данные другому генератору - тем самым распиливая некий монолит

```python
def gen():
	yield 1
	yield 2
	yield 3

def gen2():
	yield 4
	yield from gen()
	yield "end gen"

for i in gen2():
	print(i)
# 4 (yield 4)
# 1 (yield 1 от gen())
# 2 (yield 2 от gen())
# 3 (yield 3 от gen())
# end gen (yield "end gen)
```

[[Python]] [[IT]]
