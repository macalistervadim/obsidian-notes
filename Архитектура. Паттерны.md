
#  –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ

---

## üèóÔ∏è –ü–æ—Ä–æ–∂–¥–∞—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### üß© –û–¥–∏–Ω–æ—á–∫–∞ (Singleton)

**–°—É—Ç—å:**  
–û–¥–∏–Ω –æ–±—ä–µ–∫—Ç –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞.

**–ó–∞—á–µ–º:**  
–ß—Ç–æ–±—ã –Ω–µ –ø–ª–æ–¥–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, –ª–æ–≥–≥–µ—Ä, –∫–æ–Ω—Ñ–∏–≥ –∏ —Ç.–ø.)

**Python**
```python
class Singleton:
    _instance = None

    def __new__(cls):
        if not cls._instance:
            cls._instance = super().__new__(cls)
        return cls._instance

db1 = Singleton()
db2 = Singleton()
assert db1 is db2
```
**PHP**
```php
class Singleton {
    private static ?Singleton $instance = null;

    private function __construct() {}
    public static function getInstance(): Singleton {
        return self::$instance ??= new Singleton();
    }
}
```

### ‚öôÔ∏è –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ (Factory Method)

**–°—É—Ç—å:**  
–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑¬†`new`. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

**–ó–∞—á–µ–º:**  
–£–±—Ä–∞—Ç—å –∂—ë—Å—Ç–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (DI, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å).

**Python**
```python
class UserFactory:
    def create_admin(self):
        return User(role="admin")

    def create_guest(self):
        return User(role="guest")

```
**PHP**
```php
class UserFactory {
    public function createAdmin(): User {
        return new User("admin");
    }
}
```

### üè≠ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ (Abstract Factory)

**–°—É—Ç—å:**  
–§–∞–±—Ä–∏–∫–∞ —Ñ–∞–±—Ä–∏–∫. –°–æ–∑–¥–∞—ë—Ç –≥—Ä—É–ø–ø—ã –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

**–ó–∞—á–µ–º:**  
–ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ä–µ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL / MySQL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏) ‚Äî –∏ –Ω—É–∂–Ω–æ –ª–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω—è—Ç—å –≤—Å—é –≥—Ä—É–ø–ø—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.

**Python**
```python
class RepositoryFactory:
    def create_user_repo(self): ...
    def create_order_repo(self): ...

class PostgresFactory(RepositoryFactory): ...
class MySQLFactory(RepositoryFactory): ...

```
**PHP**
```php
interface RepositoryFactory {
    public function createUserRepo(): UserRepository;
}

class MySQLFactory implements RepositoryFactory {
    public function createUserRepo(): UserRepository { return new MySQLUserRepository(); }
}

```


## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### üîå –ê–¥–∞–ø—Ç–µ—Ä (Adapter)

**–°—É—Ç—å:**  
–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∫ –Ω—É–∂–Ω–æ–º—É –¥—Ä—É–≥–æ–º—É.

**–ó–∞—á–µ–º:**  
–ö–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —Å —Ç–≤–æ–∏–º.

**Python**
```python
class OldLogger:
    def write(self, msg): print(msg)

class NewLoggerAdapter:
    def __init__(self, old_logger): self.old_logger = old_logger
    def log(self, msg): self.old_logger.write(msg)

```

**PHP**
```php
class OldLogger { public function write($msg) { echo $msg; } }

class NewLoggerAdapter {
    public function __construct(private OldLogger $logger) {}
    public function log($msg) { $this->logger->write($msg); }
}

```

### üé® –î–µ–∫–æ—Ä–∞—Ç–æ—Ä (Decorator)

**–°—É—Ç—å:**  
–î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

**–ó–∞—á–µ–º:**  
–ß—Ç–æ–±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç.–ø.

**Python**
```python
def log_calls(func):
    def wrapper(*args, **kwargs):
        print(f"Calling {func.__name__}")
        return func(*args, **kwargs)
    return wrapper

@log_calls
def process(): ...

```

**PHP**
```php
class LoggerDecorator implements ServiceInterface {
    public function __construct(private ServiceInterface $service) {}
    public function run() {
        echo "log start";
        $this->service->run();
    }
}

```

### üß© –§–∞—Å–∞–¥ (Facade)

**–°—É—Ç—å:**  
–û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –∑–∞ –ø—Ä–æ—Å—Ç—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

**–ó–∞—á–µ–º:**  
–ß—Ç–æ–±—ã –≤–Ω–µ—à–Ω–µ–º—É –∫–æ–¥—É –Ω–µ –≤–∏–¥–µ—Ç—å –≤—Å—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∫–∞—à—É.

**Python**
```python
class UserFacade:
    def register_user(self, data):
        user = User(data)
        repo.add(user)
        email.send_verification(user)

```
**PHP**
```php
class UserFacade {
    public function register($data) {
        $user = new User($data);
        $this->repo->add($user);
        $this->mailer->sendVerify($user);
    }
}

```

### ü™û –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å (Proxy)

**–°—É—Ç—å:**  
–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É, –¥–æ–±–∞–≤–ª—è—è –ª–æ–≥–∏–∫—É –¥–æ/–ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞.

**–ó–∞—á–µ–º:**  
–ù–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–Ω–∏–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, –∫—ç—à, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

**Python**
```python
class ProxyRepo:
    def __init__(self, real_repo):
        self.real_repo = real_repo

    async def add(self, user):
        print("Logging before add")
        return await self.real_repo.add(user)

```

**PHP**
```php
class UserRepoProxy implements UserRepository {
    public function __construct(private UserRepository $realRepo) {}
    public function add(User $user) {
        echo "Log before add";
        return $this->realRepo->add($user);
    }
}

```


## üîÑ –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### üëÅÔ∏è –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (Observer)

**–°—É—Ç—å:**  
–ö–æ–≥–¥–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç —Å–æ–æ–±—â–∞–µ—Ç –æ —Å–æ–±—ã—Ç–∏—è—Ö –º–Ω–æ–∂–µ—Å—Ç–≤—É –¥—Ä—É–≥–∏—Ö.

**–ó–∞—á–µ–º:**  
–°–æ–±—ã—Ç–∏–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ø—Ä–∏–º–µ—Ä: publish/subscribe, webhooks, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è).

**Python**
```python
class EventBus:
    def __init__(self): self.listeners = []

    def subscribe(self, fn): self.listeners.append(fn)
    def publish(self, data):
        for fn in self.listeners: fn(data)

```

**PHP**
```php
class EventBus {
    private array $listeners = [];
    public function subscribe(callable $fn) { $this->listeners[] = $fn; }
    public function publish($data) {
        foreach ($this->listeners as $fn) $fn($data);
    }
}

```

## üß† –ò—Ç–æ–≥–æ

| –ü–∞—Ç—Ç–µ—Ä–Ω          | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                 | –ì–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º –≤ –ø—Ä–æ–µ–∫—Ç–µ           |
| ---------------- | -------------------------- | -------------------------------- |
| Singleton        | –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä             | Database, Config                 |
| Factory Method   | –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç             | UserFactory, RepoFactory         |
| Abstract Factory | –°–æ–∑–¥–∞—ë—Ç —Å–µ–º–µ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ | Repository —Å–ª–æ–π (Postgres/MySQL) |
| Adapter          | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤  | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö API          |
| Decorator        | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è       | –õ–æ–≥–≥–µ—Ä, –∫—ç—à, –≤–∞–ª–∏–¥–∞—Ü–∏—è           |
| Facade           | –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞          | –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π      |
| Proxy            | –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞           | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ         |
| Observer         | –°–æ–±—ã—Ç–∏—è                    | EventBus, Redis pub/sub          |

[[Python]] [[IT]]