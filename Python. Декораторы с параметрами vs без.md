# üêç –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤ Python: –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ vs —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

_–ü–æ—á–µ–º—É –æ–±–∞ —Ç–∏–ø–∞ ¬´—Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ¬ª, –Ω–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É_

---

## üß† –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è

> **–í—Å–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è** ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ **–æ–±—ã—á–Ω—ã–π –∫–æ–¥ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ**.  
> –†–∞–∑–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ **—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≤—ã–∑–æ–≤–∞**.

---

## üîπ 1. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä **–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```python
@my_decorator
def func():
    pass
```

### –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ:

```python
def func():
    pass

func = my_decorator(func)  # ‚Üê –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –°–†–ê–ó–£ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
```

### –ü—Ä–∏–º–µ—Ä

```python
def log(func):
    print(f"üîß –î–µ–∫–æ—Ä–∏—Ä—É–µ–º {func.__name__}")
    return func

@log
def add(a, b):
    return a + b
```

‚úÖ –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:

```python
üîß –î–µ–∫–æ—Ä–∏—Ä—É–µ–º add
```

üëâ `add` —Ç–µ–ø–µ—Ä—å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤–µ—Ä–Ω—É–ª `log` (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ ‚Äî –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª, –Ω–æ –æ–±—ã—á–Ω–æ –Ω–∞ `wrapper`).

## üî∏ 2. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä **—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```python
@my_decorator("–∞—Ä–≥—É–º–µ–Ω—Ç")
def func():
    pass
```

### –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ:

```python
def func():
    pass

func = my_decorator("–∞—Ä–≥—É–º–µ–Ω—Ç")(func)  # ‚Üê –¥–≤–∞ –≤—ã–∑–æ–≤–∞ –ø–æ–¥—Ä—è–¥!
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. `my_decorator("–∞—Ä–≥—É–º–µ–Ω—Ç")` ‚Üí **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä**
2. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è **—Å—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç `func`**

### –ü—Ä–∏–º–µ—Ä

```python
def log(prefix=""):
    print(f"üõ†Ô∏è  –°–æ–∑–¥–∞—ë–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º: '{prefix}'")
    
    def decorator(func):
        print(f"üîß –î–µ–∫–æ—Ä–∏—Ä—É–µ–º {func.__name__} —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º '{prefix}'")
        def wrapper(*args, **kwargs):
            print(f"{prefix} üìû –í—ã–∑—ã–≤–∞–µ–º {func.__name__}")
            return func(*args, **kwargs)
        return wrapper
    
    return decorator  # ‚Üê –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ñ—É–Ω–∫—Ü–∏—é
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º:

```python
@log(prefix=">>>")
def multiply(a, b):
    return a * b
```

‚úÖ –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:

```python
üõ†Ô∏è  –°–æ–∑–¥–∞—ë–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º: '>>>'
üîß –î–µ–∫–æ—Ä–∏—Ä—É–µ–º multiply —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º '>>>'
```

üëâ `multiply` —Ç–µ–ø–µ—Ä—å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `wrapper`, –∫–æ—Ç–æ—Ä—ã–π ¬´–ø–æ–º–Ω–∏—Ç¬ª `prefix=">>>"` (–∑–∞–º—ã–∫–∞–Ω–∏–µ!).

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ?

| –¢–ò–ü –î–ï–ö–û–†–ê–¢–û–†–ê | –ö–û–î –ù–ê –°–ê–ú–û–ú –î–ï–õ–ï              | –≠–¢–ê–ü–´ –í–´–ü–û–õ–ù–ï–ù–ò–Ø –ü–†–ò –ò–ú–ü–û–†–¢–ï                                   |
| -------------- | ------------------------------ | -------------------------------------------------------------- |
| –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | `func = decorator(func)`       | 1 –≤—ã–∑–æ–≤                                                        |
| c –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏  | `func = decorator(args)(func)` | 2 –≤—ã–∑–æ–≤–∞: —Å–Ω–∞—á–∞–ª–∞ `decorator(args)`, –ø–æ—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç `func` |

‚ö†Ô∏è **–í–∞–∂–Ω–æ**:  
–û–±–∞ —Ç–∏–ø–∞ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ**.  
–ù–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö **–Ω–µ –∂–¥—ë—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏**, —á—Ç–æ–±—ã ¬´–ø—Ä–∏–º–µ–Ω–∏—Ç—å—Å—è¬ª.

---

## üéØ –ê –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏?

–ù–∏–∫–æ–≥–¥–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ!  
–¢–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ç—ã **–≤—ã–∑—ã–≤–∞–µ—à—å** —Ñ—É–Ω–∫—Ü–∏—é:

```python
result = add(2, 3)      # ‚Üê —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–µ–ª–æ add
result = multiply(4, 5) # ‚Üê –∏ –∑–¥–µ—Å—å ‚Äî —Ç–µ–ª–æ multiply
```

–ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –µ—Å—Ç—å `wrapper`, —Ç–æ:

- —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `wrapper`
- –∞ **–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è** ‚Äî —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ `wrapper`

---

## üß© –ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ?

–ü–æ—Ç–æ–º—É —á—Ç–æ Python ‚Äî **–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫**, –∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –æ–Ω **–≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –º–æ–¥—É–ª—è —Å—Ç—Ä–æ–∫–∞ –∑–∞ —Å—Ç—Ä–æ–∫–æ–π**.

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ **–Ω–µ –º–∞–≥–∏—è**, –∞ –ø—Ä–æ—Å—Ç–æ **—Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑–≤–∞–Ω–Ω–∞—è –≤ –º–æ–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏**.

---

## üí° –°–æ–≤–µ—Ç –Ω–∞ –±—É–¥—É—â–µ–µ

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å:

```python
@app.route("/")
def home():
    ...
```

‚Äî –∑–Ω–∞–π: `app.route("/")` **–≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ**, –∏, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, **–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–æ —Ñ—É–Ω–∫—Ü–∏—é `home` –≤ –∫–∞–∫–æ–º-—Ç–æ —Å–ø–∏—Å–∫–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ä–æ—É—Ç–µ—Ä–µ Flask).

–≠—Ç–æ **–Ω–µ –ª–µ–Ω–∏–≤—ã–π –≤—ã–∑–æ–≤** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å—Ä–∞–∑—É!

[[Python]] [[IT]]